<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>אישור גיל וקבלת קופון - Premium Video BG</title>
    <!-- טעינת Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 1. הגדרות בסיס ורקע פרימיום (Dark Mode) */
        body {
            font-family: 'Inter', sans-serif;
            position: relative;
            min-height: 100vh;
            background-color: #030303; /* שחור עמוק מאוד */
            color: #e5e7eb; /* טקסט בהיר */
            overflow-x: hidden; /* מונע גלילה אופקית */
        }

        /* הגדרות וידאו רקע: כיסוי מלא, דרמטי וסאבטילי */
        #background-video {
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: 10;
            opacity: 0.15; /* אטימות נמוכה מאוד - רק כרמז */
            filter: grayscale(100%); /* מראה דרמטי מונוכרומטי */
            object-fit: cover; /* מוודא שהוידאו מכסה את כל המסך */
            transition: opacity 0.5s;
        }

        /* 2. שכבת Overlay - כהה וחזקה כדי להבטיח קריאות */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* רקע Gradient ליצירת אפקט עומק (Radial Gradient) */
            background-image: radial-gradient(circle at center, rgba(0, 230, 118, 0.02) 0%, rgba(3, 3, 3, 0.9) 70%);
            z-index: 15;
        }
        
        /* 3. עיצוב המותג והצבעים */
        .brand-green { background-color: #00E676; } 
        .brand-green:hover { background-color: #00c765; }
        .whatsapp-green { background-color: #25D366; }
        .whatsapp-green:hover { background-color: #128C7E; }

        /* 4. עיצוב הכרטיס המרכזי */
        .modal-card {
            z-index: 20;
            backdrop-filter: blur(20px); 
            background-color: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(0, 230, 118, 0.5);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
        }

        /* 5. עיצוב שדות קלט */
        .form-input {
            background-color: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(156, 163, 175, 0.3); 
            color: #fff;
        }
        .form-input:focus {
            background-color: #1f2937;
            border-color: #00E676;
            box-shadow: 0 0 0 1px #00E676;
        }

        /* כפתור ניאון בולט יותר */
        .neon-cta-button {
            box-shadow: 0 0 20px rgba(37, 211, 102, 0.6), inset 0 0 10px rgba(37, 211, 102, 0.4); 
        }
        .neon-cta-button:hover {
            box-shadow: 0 0 30px rgba(37, 211, 102, 0.8), inset 0 0 15px rgba(37, 211, 102, 0.6);
        }

        /* כרטיס הודעות */
        .message-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 50;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">

    <!-- הודעת טעינה / שגיאה - נסתרת כברירת מחדל -->
    <div id="loading-message" class="message-box bg-gray-800 p-4 rounded-lg shadow-xl border border-yellow-500 hidden">
        <p class="text-lg text-yellow-300 font-bold">טוען רקע וידאו...</p>
        <p class="text-sm text-gray-400">אם ההודעה נשארת, אנא ודא שהקישור ל-MP4 תקין.</p>
    </div>

    <!-- 1. רקע וידאו דרמטי וסאבטילי -->
    <video autoplay muted loop id="background-video" preload="auto" class="hidden">
        <!-- 
            *** קישור חדש ויציב לבדיקה (וידאו ציבורי של Blender Foundation) ***
            אם זה עובד, הבעיה הייתה בקישור הקודם.
            **החלף את ה-URL הזה בקישור ה-MP4 הציבורי שלך!**
        -->
        <source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
        
        <!-- Fallback (מוצג אם הוידאו לא נטען) -->
        <img src="https://placehold.co/1920x1080/030303/00E676?text=VIDEO+FALLBACK+EFFECT" alt="רקע וידאו מונפש" style="width: 100%; height: 100%; object-fit: cover; opacity: 1; z-index: 10; position: fixed;">
    </video>

    <!-- 2. שכבת על כהה -->
    <div class="overlay"></div>

    <!-- כרטיס דף הנחיתה המרכזי -->
    <div class="modal-card max-w-lg w-full rounded-3xl p-10 space-y-8">

        <!-- כותרת ראשית H1: ההבטחה -->
        <h1 class="text-4xl font-extrabold text-white text-center leading-snug tracking-wide">
            🌿 פורטל פרימיום נפתח: קוד הנחה וגישה מיידית ל-Apollo
        </h1>

        <!-- כותרת משנה H2: הדגש על אחריות -->
        <p class="text-gray-300 text-center text-base font-light">
            על פי דרישות הרגולציה: אנא אשר/י את גילך **(18+)** והסכמה מלאה לתנאי השימוש שלנו כדי להשלים את הרישום.
        </p>

        <!-- טופס אימות ולידים -->
        <form id="ageGateForm" class="space-y-6">
            <!-- הודעות שגיאה גלובליות -->
            <div id="error-message" class="hidden p-4 bg-red-900/50 border border-red-500 text-red-300 rounded-lg text-sm text-right font-semibold">
                אימות נכשל. ודא/י שהנך מעל גיל 18 ושכל השדות סומנו ומולאו כנדרש.
            </div>

            <!-- 1. אימות גיל (שדה חובה) -->
            <div class="space-y-2">
                <label for="birthDate" class="block text-sm font-bold text-gray-200">1. תאריך לידה מלא (DD/MM/YYYY):</label>
                <input type="date" id="birthDate" name="birthDate" required class="form-input mt-1 block w-full px-4 py-3 rounded-xl focus:outline-none text-lg placeholder-gray-500">
            </div>

            <!-- 2. לכידת לידים (מספר טלפון לווטסאפ - שדה חובה) -->
            <div class="space-y-2">
                <label for="phoneNumber" class="block text-sm font-bold text-gray-200">2. מספר טלפון (וואטסאפ) לקבלת קוד ההנחה:</label>
                <input type="tel" id="phoneNumber" name="phoneNumber" required placeholder="05X-XXXXXXX" minlength="9" class="form-input mt-1 block w-full px-4 py-3 rounded-xl focus:outline-none text-lg placeholder-gray-500">
            </div>

            <!-- 3. שם פרטי (רשות) -->
            <div class="space-y-2">
                <label for="fullName" class="block text-sm font-medium text-gray-400">3. שם פרטי (אופציונלי):</label>
                <input type="text" id="fullName" name="fullName" placeholder="שמך המלא" class="form-input mt-1 block w-full px-4 py-3 rounded-xl focus:outline-none placeholder-gray-500">
            </div>


            <!-- 4. אישור תנאים רגולטורי (Checkboxes) -->
            <div class="space-y-4 pt-3 text-right">
                <div class="flex items-start">
                    <input id="ageCheck" name="ageCheck" type="checkbox" required class="h-5 w-5 text-brand-green border-gray-600 rounded focus:ring-brand-green mt-1 bg-gray-700">
                    <label for="ageCheck" class="mr-3 text-base text-gray-300 cursor-pointer font-semibold">
                        אני מאשר/ת שאני עומד/ת בדרישות גיל המינימום החוקי **(18+)**.
                    </label>
                </div>
                <div class="flex items-start">
                    <input id="termsCheck" name="termsCheck" type="checkbox" required class="h-5 w-5 text-brand-green border-gray-600 rounded focus:ring-brand-green mt-1 bg-gray-700">
                    <label for="termsCheck" class="mr-3 text-base text-gray-300 cursor-pointer font-semibold">
                        אני מאשר/ת שקראתי והסכמתי ל<a href="#terms-and-privacy" class="text-brand-green hover:underline font-bold transition duration-150">תנאי השימוש ומדיניות הפרטיות</a>.
                    </label>
                </div>
            </div>

            <!-- כפתור קריאה לפעולה (CTA) - ניאון חזק -->
            <button type="submit" class="neon-cta-button w-full flex justify-center items-center py-4 px-6 rounded-xl text-xl font-black text-gray-900 brand-green focus:outline-none focus:ring-8 focus:ring-offset-2 focus:ring-whatsapp-green/70 transition duration-300 ease-in-out transform hover:scale-[1.02]">
                אישור וכניסה מיידית
            </button>
        </form>

        <!-- סייג רפואי (Disclaimer) קטן בתחתית הכרטיס -->
        <p class="text-xs text-gray-500 text-center pt-2">
            סייג: המידע אינו מהווה תחליף לייעוץ רפואי או משפטי.
        </p>
    </div>

    <!-- פוטר משודרג עם רקע כהה -->
    <footer id="terms-and-privacy" class="fixed bottom-0 w-full bg-gray-900/95 backdrop-blur-lg p-3 text-center text-xs text-gray-500 border-t border-gray-800 z-30 shadow-2xl">
        &copy; 2024 שם העסק שלך. כל הזכויות שמורות. | <a href="mailto:contact@youremail.com" class="text-gray-300 hover:text-brand-green font-medium transition duration-150">contact@youremail.com</a>
        <br>
        השימוש באתר כפוף לחוקי המדינה ומותר רק למשתמשים מעל גיל **18**.
    </footer>

    <script>
        const videoElement = document.getElementById('background-video');
        const loadingMessage = document.getElementById('loading-message');

        // הצגת הודעת טעינה עד שהוידאו מוכן
        loadingMessage.classList.remove('hidden');

        // פונקציה לניסיון נגינה (חובה עקב מדיניות דפדפנים)
        function attemptPlay() {
            // נסה לנגן את הוידאו
            const playPromise = videoElement.play();

            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // הוידאו התחיל לנגן בהצלחה - הסתר את הודעת הטעינה
                    loadingMessage.classList.add('hidden');
                    videoElement.classList.remove('hidden');
                    console.log('Video started successfully.');
                }).catch(error => {
                    // נכשל בניגון אוטומטי (קורה לעיתים רחוקות גם כשהוא מושתק)
                    // נשאיר את הפולבק (תמונת הרקע הכהה) ונודיע ביומן
                    loadingMessage.textContent = 'הווידאו לא נטען או נחסם אוטומטית. מוצגת תמונת רקע סטטית במקום.';
                    videoElement.classList.add('hidden');
                    console.error('Video Autoplay failed:', error);
                });
            }
        }

        // ודא שהוידאו נטען לחלוטין לפני הניסיון
        videoElement.addEventListener('loadeddata', () => {
             // ברגע שהוידאו נטען, ננסה להפעיל
             attemptPlay();
        });

        // אם הוידאו כבר היה במצב טעון מראש
        if (videoElement.readyState >= 2) {
            attemptPlay();
        } else {
             // אם לוקח יותר משנייה לטעון, נציג הודעה
             setTimeout(() => {
                if (videoElement.classList.contains('hidden')) {
                     loadingMessage.classList.remove('hidden');
                }
             }, 1000);
        }

        // לוגיקת אימות הטופס הקודמת
        document.getElementById('ageGateForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const MINIMUM_AGE = 18; 
            const STORE_URL = 'https://apollosystem.io';

            const errorMessage = document.getElementById('error-message');

            const birthDateInput = document.getElementById('birthDate').value;
            const phoneNumberInput = document.getElementById('phoneNumber').value.replace(/[^0-9]/g, ''); 
            const fullNameInput = document.getElementById('fullName').value;
            const ageCheck = document.getElementById('ageCheck').checked;
            const termsCheck = document.getElementById('termsCheck').checked;

            const today = new Date();
            const birthDate = new Date(birthDateInput);
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }

            if (age < MINIMUM_AGE || !birthDateInput || phoneNumberInput.length < 9 || !ageCheck || !termsCheck) {
                errorMessage.classList.remove('hidden');
                errorMessage.textContent = 'אימות כניסה נכשל. אנא ודא/י שהנך מעל גיל ' + MINIMUM_AGE + ', שהמספר תקין ומילאת את כל השדות.';
                return;
            }

            errorMessage.classList.add('hidden');

            console.log(`Lead collected: Name: ${fullNameInput || 'N/A'}, Phone: ${phoneNumberInput}, Age: ${age}. Redirecting to store...`);
            
            // הפניה אוטומטית לאתר Apollo System
            window.location.href = STORE_URL;
        });
    </script>
</body>
</html>
