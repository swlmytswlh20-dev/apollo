<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>אישור גיל וקבלת קופון</title>
    <!-- טעינת Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* הגדרת גופן ידידותי לקריאה בעברית */
        body {
            font-family: 'Inter', sans-serif;
            position: relative; /* נדרש למיקום הרקע */
            min-height: 100vh;
        }

        /* 1. רקע ותמונה: תמונה רגועה ומקצועית */
        .bg-custom-wellness {
            /* תמונה חדשה: רקע מרגיע וצעיר (דוגמה: ירוק-כחול רך, טשטוש טבע) */
            background-image: url('https://images.unsplash.com/photo-1517524008697-d86b970f438d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            position: fixed; 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* 2. שכבת Overlay כהה לקריאות משופרת */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* 50% שחור שקוף */
            z-index: 10;
        }
        
        /* 3. הגדרות מותג וצבעים */
        .brand-green { background-color: #38a169; }
        .brand-green:hover { background-color: #2f855a; }
        .whatsapp-green { background-color: #25D366; }
        .whatsapp-green:hover { background-color: #128C7E; }

        /* 4. עיצוב הכרטיס המרכזי (Modal) */
        .modal-card {
            z-index: 20; /* מעל ה-overlay */
            backdrop-filter: blur(8px); /* אפקט טשטוש מודרני */
            background-color: rgba(255, 255, 255, 0.95); /* לבן שקוף */
            transition: all 0.3s ease-in-out;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">

    <!-- רקע ותמונת רקע (מופיע ראשון ב-DOM אך ממוקם ב-fixed) --><div class="bg-custom-wellness"></div>
    <div class="overlay"></div>

    <!-- כרטיס דף הנחיתה המרכזי (מעוצב) --><div class="modal-card max-w-md w-full rounded-2xl shadow-2xl p-8 space-y-6 border-t-8 border-brand-green transform hover:shadow-3xl">

        <!-- כותרת ראשית H1: ההבטחה --><h1 class="text-3xl font-extrabold text-gray-900 text-center">
            🎁 קבל/י קופון הנחה לרכישת מוצרים וגישה מיידית לאתר 🌿
        </h1>

        <!-- כותרת משנה H2: הדגש על אחריות --><p class="text-gray-700 text-center text-sm font-medium">
            לפני שאתה צולל פנימה: אנו מחויבים לשימוש חוקי, בטוח ואחראי. אנא אשר את גילך והסכמתך כדי להיכנס לאתר החנות שלנו.
        </p>

        <!-- טופס אימות ולידים --><form id="ageGateForm" class="space-y-4">
            <!-- הודעות שגיאה גלובליות --><div id="error-message" class="hidden p-3 bg-red-100 border-r-4 border-red-500 text-red-700 rounded-lg text-sm text-right font-semibold">
                אנא מלא/י את כל השדות בצורה נכונה ואשר את התנאים.
            </div>

            <!-- 1. אימות גיל (שדה חובה) --><div class="space-y-2">
                <label for="birthDate" class="block text-sm font-bold text-gray-700">1. אנא הזן את תאריך הלידה המלא שלך (DD/MM/YYYY):</label>
                <input type="date" id="birthDate" name="birthDate" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-inner focus:ring-brand-green focus:border-brand-green">
            </div>

            <!-- 2. לכידת לידים (מספר טלפון לווטסאפ - שדה חובה) --><div class="space-y-2">
                <label for="phoneNumber" class="block text-sm font-bold text-gray-700">2. הזן מספר טלפון (וואטסאפ) לקבלת הקופון והגישה:</label>
                <input type="tel" id="phoneNumber" name="phoneNumber" required placeholder="05X-XXXXXXX" minlength="9" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-inner focus:ring-brand-green focus:border-brand-green">
            </div>

            <!-- 3. שם פרטי (רשות) --><div class="space-y-2">
                <label for="fullName" class="block text-sm font-medium text-gray-700">3. שם פרטי (אופציונלי):</label>
                <input type="text" id="fullName" name="fullName" placeholder="שמך המלא" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-inner focus:ring-brand-green focus:border-brand-green">
            </div>


            <!-- 4. אישור תנאים רגולטורי (Checkboxes) --><div class="space-y-3 pt-2">
                <div class="flex items-start">
                    <input id="ageCheck" name="ageCheck" type="checkbox" required class="h-4 w-4 text-brand-green border-gray-300 rounded focus:ring-brand-green">
                    <label for="ageCheck" class="mr-3 text-sm text-gray-700 cursor-pointer">
                        אני מאשר/ת שאני עומד/ת בדרישות גיל המינימום החוקי **(18+)**.
                    </label>
                </div>
                <div class="flex items-start">
                    <input id="termsCheck" name="termsCheck" type="checkbox" required class="h-4 w-4 text-brand-green border-gray-300 rounded focus:ring-brand-green">
                    <label for="termsCheck" class="mr-3 text-sm text-gray-700 cursor-pointer">
                        אני מאשר/ת שקראתי והסכמתי ל<a href="#terms-and-privacy" class="text-brand-green hover:underline font-medium">תנאי השימוש ומדיניות הפרטיות</a> של האתר.
                    </label>
                </div>
            </div>

            <!-- כפתור קריאה לפעולה (CTA) - בולט --><button type="submit" class="w-full flex justify-center items-center py-3 px-4 rounded-lg shadow-xl text-lg font-bold text-white whatsapp-green focus:outline-none focus:ring-4 focus:ring-offset-2 focus:ring-whatsapp-green/70 transition duration-200 ease-in-out hover:scale-[1.01]">
                אישור גילי, קבלת קופון וכניסה לאתר
            </button>
        </form>

        <!-- סייג רפואי (Disclaimer) קטן בתחתית הכרטיס --><p class="text-xs text-gray-600 text-center pt-2">
            תוכן זה אינו מהווה ייעוץ רפואי. יש להתייעץ עם רופא מוסמך לפני תחילת או שינוי כל טיפול.
        </p>
    </div>

    <!-- פוטר עם סייגים נוספים ופרטי התקשרות --><footer id="terms-and-privacy" class="fixed bottom-0 w-full bg-gray-900/80 backdrop-blur-sm p-3 text-center text-xs text-gray-300 border-t border-gray-700 z-30">
        &copy; 2024 שם העסק שלך. כל הזכויות שמורות. | מייל לשאלות: <a href="mailto:contact@youremail.com" class="text-white hover:text-brand-green">contact@youremail.com</a>
        <br>
        המוצרים באתר כפופים לחוקי המדינה ומיועדים רק למשתמשים מעל גיל **18** ובעלי רישיון/מרשם מתאים (היכן שנדרש).
    </footer>

    <script>
        document.getElementById('ageGateForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // =======================================================
            // הגדרות חובה: הקישור לאתר Apollo System
            // =======================================================
            const MINIMUM_AGE = 18; 
            const STORE_URL = 'https://apollosystem.io'; // כתובת האתר שאליה יש להפנות
            // =======================================================

            const errorMessage = document.getElementById('error-message');

            // קבלת נתוני הטופס
            const birthDateInput = document.getElementById('birthDate').value;
            const phoneNumberInput = document.getElementById('phoneNumber').value.replace(/[^0-9]/g, ''); 
            const fullNameInput = document.getElementById('fullName').value;
            const ageCheck = document.getElementById('ageCheck').checked;
            const termsCheck = document.getElementById('termsCheck').checked;

            // בדיקת הגיל
            const today = new Date();
            const birthDate = new Date(birthDateInput);
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }

            // בדיקת תקינות כללית
            if (age < MINIMUM_AGE || !birthDateInput || phoneNumberInput.length < 9 || !ageCheck || !termsCheck) {
                errorMessage.classList.remove('hidden');
                errorMessage.textContent = 'אישור כניסה נכשל. אנא ודא/י שהנך מעל גיל ' + MINIMUM_AGE + ', שהמספר תקין ומילאת את כל השדות החובה.';
                return;
            }

            // כל האימותים עברו בהצלחה!
            errorMessage.classList.add('hidden');

            // *** כאן היית שולח את נתוני הליד למערכת ה-CRM/דיוור שלך ***
            console.log(`Lead collected: Name: ${fullNameInput || 'N/A'}, Phone: ${phoneNumberInput}, Age: ${age}. Redirecting to store...`);
            
            // הפניה אוטומטית לאתר Apollo System
            window.location.href = STORE_URL;
        });
    </script>
</body>
</html>
